---
title: REST API概觀
description: Rest API概觀
exl-id: 5533d852-f644-417e-bf80-6f7aa1edd6b2
source-git-commit: bfc3ba55c99daba561255760baf273b6538a3c6e
workflow-type: tm+mt
source-wordcount: '1596'
ht-degree: 0%

---

# REST API概觀 {#rest-api-overview}

>[!NOTE]
>
>此頁面上的內容僅供參考之用。 使用此API需要來自Adobe的目前授權。 不允許未經授權的使用。


## 概觀 {#over}

Adobe Primetime驗證REST API可讓您直接存取TV Everywhere (TVE)驗證和授權服務。 此API支援兩種主要架構：伺服器對伺服器或連線裝置（例如遊戲機、智慧型電視、機上盒等） 沒有網頁瀏覽功能的應用程式。 

 

### 伺服器對伺服器

伺服器對伺服器解決方案涉及程式設計人員使用者端應用程式，這些應用程式整合了程式設計人員服務，這些服務會與Adobe Primetime驗證服務連線，以提供TVE流程。 此方法將大部分的TVE實作從使用者端轉移到伺服器，以便建立和維護單一統一的授權模組。 使用者端應用程式的主要剩餘職責是管理使用者驗證的Web檢視。

 

### 連線裝置

連線裝置應用程式會透過REST API直接與Primetime驗證通訊，以執行設定、註冊、驗證狀態檢查和授權流程，而驗證流程需要第二個畫面（瀏覽器）應用程式。 因此，不會使用原生SDK。

 

### 其他架構

除了兩種主要的REST API架構（伺服器對伺服器和智慧型裝置的直接使用者端解決方案）外，還有其他架構。  其中主要的是SDK架構，此架構使用名為Access Enabler的使用者端元件，由Primetime驗證提供給程式設計師。  應用程式會使用Access Enabler API來處理啟動、驗證、授權和登出。  程式設計師的應用程式與Primetime驗證伺服器之間的所有通訊都會透過Access Enabler進行。  Access Enabler的其他風格可用於下列平台：JavaScript、iOS、tvOS、Android和FireTV。

雖然直接在支援伺服器對伺服器解決方案以外原生SDK的使用者端平台上使用REST API是可行的，但不建議使用此方法。

 

## REST API優缺點 {#ProsAndCons}

建立Adobe Primetime Authentication REST API的目的是為沒有網頁瀏覽功能或永久儲存裝置的裝置提供隨處電視(TVE)解決方案。 REST API支援所有驗證和授權流程，但缺少原生SDK元件。 由Adobe Primetime驗證提供和維護的SDK隨附實作商業規則的現成功能，若是REST API，則必須由程式設計師實作和維護。 在下方的「程式設計師職責」表格中，我們將說明目前需要程式設計師解決的REST API限制。

 

### 伺服器對伺服器與使用者端架構的優缺點比較

伺服器對伺服器架構可將大部分驗證和授權相關邏輯整合為單一邏輯單元或實作。  此方法有利也有弊。  優點包括：

* 驗證和授權商業邏輯的單一實作。
* 避免需使用該平台原生工具在每個支援的平台上實作該邏輯。
* 能夠更新功能，而不必更新使用者端及其相關的所有需求（例如應用程式商店更新）。
* **更輕鬆** 擴充和自訂authN和authZ功能（例如新增D2C）。
* 直接管理相關流量，以提升控制、品質和監控能力。

 

同樣地，弊端會列在程式設計師的職責中，但包括下列各項：

* 必須為沒有Platform SSO的平台之每個使用者端實作SSO。
* 如有必要，程式設計師必須實作MVPD特定邏輯。
* 所有使用REST API的平台都共用單一設定來管理屬性，例如驗證TTL。

 

### 連線裝置

對於大部分的連線裝置，由於SDK無法使用，因此REST API必須以某種方式使用。 連線的裝置將直接使用REST API，或整合與使用REST API的伺服器對伺服器解決方案。

## 程式設計師職責 {#programmer-responsibilities}

下列專案適用於伺服器對伺服器和連線裝置應用程式。

| **功能** | **負責處理功能** | **說明目前無使用者端API的限制以及與原生SDK的差異** |
| --- | --- | --- |
| 每個平台套用的組態設定 | Adobe | 一 **主要限制** 在所有平台(包括iOS和Android等行動裝置)上使用REST API時，對應至TVE儀表板設定工具中REST API的設定設定會套用至所有裝置(即使有iOS裝置執行在REST API上實作的原生應用程式)。 此限制 **可以中斷** 使用MVPD的協定TTL和協定平台設定（如果每個平台的設定不同）。 [1](#1) |
| 單一登入 | 程式設計師 | 使用REST API時，SSO僅適用於支援平台SSO的平台(例如Apple、Roku、Amazon)，而使用REST API時，其他平台無法保證SSO。 SDK會以跨網站/應用程式的方式快取資料。 這表示使用者在網站/應用程式上登入一次，且已登入參與的網站，無需任何使用者互動。 [2](#2) |
| 單一登出 | 程式設計師 | 在本機SDK SSO案例中，從某個參與應用程式登出後，使用者將會從任何地方登出。 在目前不支援SLO的REST API上，從某個應用程式登出只會將該特定應用程式的使用者登出。 |
| 快取 | 程式設計師 | REST API實作必須針對商業認可的資料專案實作自己的快取機制。 SDK會自動快取各種資料專案，同時考慮到各種商業規則。 例如，系統會使用與驗證Token相同的TTL來快取使用者中繼資料，而某些專案可以程式設計方式從快取（預檢）中排除。 |
| 詳細的錯誤報告機制 | 程式設計師 | REST API主要仰賴HTTP錯誤程式碼來報告應用程式錯誤，而SDK則具備詳細的錯誤報告機制，可協助應用程式開發人員更清楚瞭解所發生的情況。 |
| 應用程式錯誤復原（錯誤時重試、回圈偵測等） | 程式設計師 | REST API實作需要建置自己的應用程式復原系統，而透過SDK進行的實作則受益於SDK錯誤復原系統：透過重新嘗試某些具有就地邏輯的網路呼叫來防止「回圈」，從暫時性網路錯誤中復原。 |
| 每個請求者的驗證 | 程式設計師 | 有些MVPD會因為業務或技術上的挑戰，而要求針對每個網站/應用程式進行驗證。 SDK會根據TVE儀表板設定自動強制執行此功能。 REST API實作人員必須自己實作此專案，以免違反商業合約，或完成授權給那些根據應用程式限定其驗證資料的MVPD。 |
| 被動驗證 | 程式設計師 | 有些MVPD支援「被動」驗證，使用者不需要輸入認證，而且會嘗試自動驗證使用者。 對於要求也具有「每個請求者的驗證」的MVPD而言，這特別有用。 在此情況下，SDK所啟用的UX會是無縫的，使用者只需在應用程式中驗證一次，而SDK會針對生態系統中的其他應用程式執行「被動」驗證。 使用者看不到其他被動呼叫，他只需要經過驗證即可，而MVPD會達成每個應用程式擁有個別驗證工作階段的目標。 |
| 隱含和統一的裝置偵測 | 程式設計師 | SDK會自動偵測裝置型別，並以標準方式傳送該資訊。 REST API實作會根據實作者的不同，易於傳送不同的資訊，因此會扭曲/破壞網站間的商業規則和統計資料。 **程式設計師必須確定他們傳送正確的裝置資訊給我們** 每個應用程式上的。 對於伺服器對伺服器實作，除非採取其他步驟，否則REST API無法正確識別一般使用者的IP位址。 IP位址在某些使用案例中很重要，例如防止詐騙或HBA。 |
| 竄改證明TempPass | 程式設計師 | 強制執行TempPass是以穩定的裝置ID為基礎。 SDK會使用硬體資訊/指紋技術來識別裝置，而且此機制不是公開的，因此會更安全且不會發生衝突。 針對REST API實施，程式設計師需要實施自己的裝置識別/指紋識別演演算法。 |
| 裝置繫結 | 程式設計師 | 在透過SDK使用應用程式的裝置上產生的代號無法移植，使得惡意使用者難以共用其代號並提供存取權給其他使用者。 這是根據與「防篡改的TempPass」相同的裝置ID機制。 針對REST API，Token會留在雲端，這表示使用相同deviceID進行相同呼叫的兩個裝置將獲得相同的回應/存取權。 程式設計師必須確定他們對於產生/分配裝置ID有健全、安全且無衝突的機制。 |
| 可預測、經過認證的功能組合 | 程式設計師 | 每個SDK中的現有功能集都是一致的、可預測且經過充分認證和測試。 有些業務需求會透過SDK強制執行，使得程式設計師在使用REST API時違反合約的風險增加。 雖然REST API可能更具彈性，但Adobe可確保SDK實施可強制執行TVE Dashboard的業務決策和設定。 在Clienless的案例中，每個程式設計師都會實作其商業規則的子集，這些商業規則在指定的時間點套用其應用程式。 |


1. 在我們新的One API計畫中，我們計畫修正此限制，並能夠根據裝置識別為每個平台套用規則。

2. Adobe會持續與所有主要平台合作，以實作可與REST API搭配使用的平台SSO。 我們的One API計畫將在使用原生SDK實作的應用程式與使用REST API實作的應用程式之間提供SSO支援。

## 最低裝置需求 {#min_reqs}

為了使用Primetime驗證REST API，裝置必須符合或超過 [Primetime驗證平台/裝置/工具需求檔案](#general_clientless_reqs).
