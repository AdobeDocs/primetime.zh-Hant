---
title: REST API概述
description: 剩餘API概述
source-git-commit: 4c3a0dd56b4ef99ac8c57cfde61f792088b0ff4d
workflow-type: tm+mt
source-wordcount: '1644'
ht-degree: 0%

---


# REST API概述 {#rest-api-overview}

>[!NOTE]
>
>此頁面上的內容僅供參考。 使用此API需要來自Adobe的當前許可證。 不允許未經授權使用。


## 概述 {#over}

Adobe Primetime認證REST API提供對TV Everywhere(TVE)認證和授權服務的直接訪問。 此API支援兩個主體系結構：伺服器到伺服器或連接的設備（如遊戲控制台、智慧電視、機頂盒等） 沒有Web瀏覽功能的應用程式。 

 

### 伺服器到伺服器

伺服器到伺服器解決方案涉及與程式設計師服務整合的程式設計師客戶端應用程式，這些程式設計師服務與Adobe Primetime認證服務相連，用於TVE流。 這種方法將TVE的大部分實施從客戶端轉移到可以構建和維護單個統一授權模組的伺服器。 客戶端應用程式的主要剩餘責任是管理用於用戶驗證的Web視圖。

 

### 連接的設備

連接的設備應用通過REST API與Mogine Authentication直接通信，以執行配置、註冊、驗證狀態檢查和授權流，而驗證流需要第二螢幕（瀏覽器）應用。 因此，不使用本機SDK。

 

### 其他體系結構

除了兩個基於REST API的主要體系結構、用於智慧設備的伺服器到伺服器和直接客戶端解決方案之外，還有其他體系結構。  其中主要是SDK體系結構，它使用一個客戶端元件，稱為Access Enabler,Bighide身份驗證為程式設計師提供。  應用使用Access Enabler API來處理啟動、驗證、授權和註銷。  程式設計師應用程式與黃金時段身份驗證伺服器之間的所有通信都通過Access Enabler進行。  Access Enabler的另一種功能適用於以下平台：JavaScript、iOS、tvOS、Android和FireTV。

雖然可以直接在客戶端平台上使用REST API，這些客戶端平台在伺服器到伺服器解決方案之外支援本機SDK，但不建議使用此方法。

 

## REST API的利弊 {#ProsAndCons}

建立Adobe Primetime身份驗證REST API是為了為沒有Web瀏覽功能或永久儲存的設備提供TV Everywhere(TVE)解決方案。 REST API支援所有身份驗證和授權流，但是它缺少本機SDK元件。 由Adobe Primetime認證提供和維護的SDK附帶了實現業務規則的現成功能，在REST API必須由程式設計師實施和維護的情況下。 在下面的「程式設計師責任」表中，我們描述了當前需要由程式設計師解決的REST API的局限性。

 

### 伺服器到伺服器與基於客戶端的利弊比較

伺服器到伺服器體系結構提供了一種將大多數與身份驗證和授權相關的邏輯整合到單個邏輯單元或實現的方法。  這種做法有利弊。  優點包括：

* 用於驗證和授權業務邏輯的單一實現。
* 避免需要使用平台本機工具在每個受支援的平台上實施該邏輯。
* 能夠更新功能，而不必使用客戶端的所有相關要求（例如應用商店更新）更新客戶端。
* **更輕鬆** 擴展和自定義authN和authZ功能（例如添加D2C）。
* 直接管理關聯的通信量，以便更好地控制、質量和監控。

 

同樣，程式設計師職責中列出了缺點，但包括：

* 對於沒有平台SSO的平台，必須為每個客戶端實現SSO。
* 程式設計師必須實現MVPD特定邏輯（如果需要）。
* 所有使用REST API的平台共用一個配置控制屬性，如驗證TTL。

 

### 連接的設備

對於大多數連接的設備，REST API必須以一種或另一種方式使用，因為SDK不可用。 所連接的設備將直接使用REST API，或與使用REST API的「伺服器到伺服器」解決方案整合。

## 程式設計師職責 {#programmer-responsibilities}

以下應用於伺服器到伺服器和連接的設備應用程式。

| **功能** | **負責處理功能** | **描述當前無客戶端API的局限性以及與本機SDK的差異** |
| --- | --- | --- |
| 按平台應用的配置設定 | Adobe | 一 **主要限制** 在所有平台(包括iOS和安卓等移動設備)中使用REST API時， TVE儀表板配置工具中與REST API對應的配置設定應用於所有設備(即使有iOS設備運行在我們的REST API之上實現的本機應用程式)。 此限制 **能破** 協定的TTL和與MVPD的協定平台設定 — 如果每個平台的設定不同。 [1](#1) |
| 單一登錄 | 程式設計師 | 使用REST API時，SSO僅在支援平台SSO(如Apple、羅庫、Amazon)的平台上可用，而在使用REST API時，SSO無法保證用於其他平台。 SDK以跨站點/應用方式快取資料。 這意味著用戶在站點/應用上登錄一次，並且已經登錄到參與的站點，不需要任何用戶交互。 [2](#2) |
| 單次註銷 | 程式設計師 | 在本機SDK SSO方案中，從一個參與的應用程式註銷將從任何位置註銷用戶。 在當前不支援SLO的REST API上，從一個應用程式註銷將僅為該特定應用程式註銷用戶。 |
| 快取 | 程式設計師 | REST API實現必須針對業務商定的資料項實施它們自己的快取機制。 SDK自動快取各種資料項，同時考慮各種業務規則。 例如，用戶元資料使用與驗證令牌相同的TTL進行快取，而某些項可以寫程式方式從快取（預檢）中排除。 |
| 詳細錯誤報告機制 | 程式設計師 | REST API主要依靠HTTP錯誤代碼來報告應用程式錯誤，而SDK則具有詳細的錯誤報告機制，可幫助應用程式開發人員更好地瞭解正在發生的情況。 |
| 應用程式錯誤恢復（重試錯誤、循環檢測等） | 程式設計師 | REST API實現需要構建自己的應用程式恢復系統，而SDK之上的實現則受益於SDK錯誤恢復系統：通過重試具有就地邏輯的特定網路呼叫來防止「循環」，從暫時網路錯誤中恢復。 |
| 每個請求者的身份驗證 | 程式設計師 | 某些MVPD需要對每個站點/應用進行身份驗證，原因可能是業務原因或技術難題。 SDK會根據TVE Dashboard配置自動強制執行此操作。 REST API實施者必須自行實施，以避免違反業務協定，或者能夠完成對那些MVPD的授權，這些MVPD針對每個應用程式對其身份驗證資料進行了範圍。 |
| 被動身份驗證 | 程式設計師 | 某些MVPD支援「被動」驗證，在這種情況下，用戶不需要輸入憑據，並且會自動嘗試驗證用戶。 這對於要求「每個請求者的身份驗證」的MVPD特別有用。 在這種情況下，由SDK啟用的UX是無縫的，其中用戶僅對應用程式進行一次驗證，而SDK對生態系統中的其他應用程式執行「被動」驗證。 用戶看不到其他被動呼叫，他將只是已經經過身份驗證，而MVPD則實現了為每個應用程式分別進行身份驗證會話的目標。 |
| 隱式和均勻的器件檢測 | 程式設計師 | SDK自動檢測設備類型並以標準方式發送該資訊。 REST API實現容易根據實施者的不同發送不同的資訊，從而扭曲/破壞各站點的業務規則和統計資訊。 **程式設計師需要確保他們送我們正確 [設備資訊](http://tve.helpdocsonline.com/passing-device-information) 每個** 。 對於伺服器到伺服器的實現，REST api無法正確標識最終用戶的IP地址，除非採取其他步驟。 IP地址在某些使用情形（如防欺詐或HBA）中非常重要。 請參閱 [如何在伺服器端實現中傳遞客戶端IP地址](http://tve.helpdocsonline.com/clientless-integration-cookbook-v2$overall_clientIP)。 |
| 防篡改TempPass | 程式設計師 | 強制實施TempPass基於穩定的設備ID。 SDK使用硬體資訊/指紋技術來識別設備，而此機制不是公共的，因此更安全且無衝突。 對於REST API實現，程式設計師需要實現他們自己的設備識別/指紋算法。 |
| 設備綁定 | 程式設計師 | 在具有SDK應用程式的設備上生成的令牌不可移植，使得惡意用戶很難共用他的令牌並向其他用戶提供訪問。 這基於與「防篡改TempPass」相同的設備ID機制。 對於REST API，令牌將保留在雲中，這意味著兩個具有相同設備ID且進行相同調用的設備將獲得相同的響應/訪問。 程式設計師需要確保他們擁有一種強健、安全且無衝突的機制來生成/分配設備ID。 |
| 可預測且經過認證的一組功能 | 程式設計師 | 每個SDK中現有的一組功能是一致、可預測和經過充分認證和測試的。 某些業務要求通過SDK強制執行，使程式設計師在使用REST API時違反合同有風險。 雖然REST API可能更靈活，但Adobe保證SDK實現強制從TVE控制板執行業務決策和設定。 在無客戶端的情況下，每個程式設計師都執行其自己的業務規則子集，這些業務規則在給定時間點對其應用程式進行分組。 |


1。 作為我們新的One API計畫的一部分，我們計畫解決這一限制，並能夠基於設備標識應用每個平台的規則。

2. Adobe繼續與所有主要平台協作，以實施可與我們的REST API一起使用的平台SSO。 我們的One API計畫將在使用本機SDK實現的應用和使用REST API實現的應用之間提供SSO支援。

## 最低設備要求 {#min_reqs}

為了使用黃金時段驗證REST API，設備必須滿足或超過REST API部分中列出的最低技術要求 [黃金時段身份驗證平台/設備/工具要求文檔](#general_clientless_reqs)。

## 相關資源 {#related}

* [程式設計師權利流](https://tve.helpdocsonline.com/entitlement-flow)
* [REST API參考](http://tve.helpdocsonline.com/registration-code-request)
* [REST API指南（伺服器到伺服器）](http://tve.helpdocsonline.com/rest-api-cookbook-server-to-server) 
* [REST API指南（客戶端到伺服器）](http://tve.helpdocsonline.com/rest-api-cookbook-client-to-server)

<!--* [Platform / Device / Tool Requirements](#)-->
