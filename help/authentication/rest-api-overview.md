---
title: REST API概述
description: Rest API概觀
source-git-commit: 326f97d058646795cab5d062fa5b980235f7da37
workflow-type: tm+mt
source-wordcount: '1596'
ht-degree: 0%

---


# REST API概述 {#rest-api-overview}

>[!NOTE]
>
>此頁面的內容僅供參考。 若要使用此API，必須具備目前的Adobe授權。 不允許未經授權使用。


## 概述 {#over}

Adobe Primetime驗證REST API可直接存取TV Everywhere(TVE)驗證和授權服務。 此API支援兩種主要架構：伺服器對伺服器或連線裝置（例如遊戲主機、智慧電視、機上盒等） 不具備Web瀏覽功能的應用程式。 

 

### 伺服器對伺服器

伺服器對伺服器解決方案涉及與程式設計師服務整合的程式設計師客戶端應用程式，這些服務與Adobe Primetime驗證服務連接，用於TVE流。 這種方法將TVE的大部分實施從客戶端轉移到可以構建和維護單個統一授權模組的伺服器上。 客戶端應用程式的主要剩餘責任是管理用於用戶驗證的Web視圖。

 

### 已連接設備

連線裝置應用程式可透過REST API與Primetime驗證直接通訊，以執行設定、註冊、驗證狀態檢查和授權流程，而驗證流程則需要第二個畫面（瀏覽器）應用程式。 因此，系統不會使用原生SDK。

 

### 其他體系結構

除了基於REST API的兩個主體系結構、用於智慧設備的伺服器對伺服器和直接客戶端解決方案之外，還有其他體系結構。  其中主要是SDK架構，其使用的用戶端元件稱為Access Enabler,Primetime驗證可提供給程式設計師。  應用程式使用Access Enabler API來處理啟動、驗證、授權和註銷。  程式設計師應用程式和Primetime身份驗證伺服器之間的所有通信都通過Access Enabler進行。  Access Enabler的另一種版本適用於以下平台： JavaScript、iOS、tvOS、Android和FireTV。

雖然可以直接在支援伺服器對伺服器解決方案以外本機SDK的用戶端平台上使用REST API，但不建議使用此方法。

 

## REST API的優點與缺點 {#ProsAndCons}

建立Adobe Primetime Authentication REST API的目的，是為沒有網頁瀏覽功能或永久儲存的裝置提供TV Everywhere(TVE)解決方案。 REST API支援所有驗證和授權流程，但因為缺少原生SDK元件。 Adobe Primetime驗證提供和維護的SDK提供可實作業務規則的現成可用功能，在REST API的情況下，必須由程式設計人員實作和維護。 在下面的「程式設計師責任」(Programmer Resolitions)表中，我們介紹了當前REST API的限制，這些限制需要由程式設計師解決。

 

### 伺服器對伺服器與用戶端的優點與缺點

伺服器對伺服器體系結構提供了將大多數與身份驗證和授權相關的邏輯整合到單個邏輯單元或實現中的方法。  此方法有優點和缺點。  優點包括：

* 驗證和授權業務邏輯的單一實施。
* 使用該平台原生工具，避免在每個支援的平台上實作該邏輯。
* 不需使用客戶的所有相關需求（例如應用程式商店更新）來更新功能。
* **更輕鬆** 擴充和自訂authN和authZ功能（例如新增D2C）。
* 直接管理相關流量，以提高控制、品質和監控能力。

 

同樣，缺點也列在程式設計師的職責中，但包括以下內容：

* 必須針對沒有Platform SSO的平台，為每個用戶端實作SSO。
* 程式設計師必須視需要實作MVPD特定邏輯。
* 所有使用REST API的平台都共用單一組態管理屬性，例如驗證TTL。

 

### 已連接設備

對於大部分連線的裝置，REST API必須以某種方式使用，因為SDK無法使用。 連線的裝置會直接使用REST API，或與使用REST API的伺服器對伺服器解決方案整合。

## 程式設計人員職責 {#programmer-responsibilities}

以下內容適用於伺服器對伺服器和連接的設備應用程式。

| **功能** | **負責處理功能** | **說明目前無用戶端API的限制，以及與原生SDK的差異** |
| --- | --- | --- |
| 按平台套用的組態設定 | Adobe | 一 **主要限制** 在所有平台(包括iOS和Android等行動裝置)使用REST API時，「TVE控制面板」組態工具中與REST API對應的組態設定會套用至所有裝置(即使有iOS裝置會在REST API上實作原生應用程式)。 此限制 **能破** 經過MVPD同意的TTL和同意的平台設定（如果每個平台的設定不同）。 [1](#1) |
| 單一登入 | 程式設計師 | 使用REST API時，SSO僅適用於支援Platform SSO的平台(例如Apple、Roku、Amazon)，而使用REST API時，無法保證其他平台的SSO。 SDK會以跨網站/應用程式方式快取資料。 這表示使用者只需在網站/應用程式登入一次，就已登入參與的網站，不需要任何使用者互動。 [2](#2) |
| 單次登出 | 程式設計師 | 在原生SDK SSO案例中，從一個參與應用程式登出時，會從任何位置登出使用者。 在目前不支援SLO的REST API上，從一個應用程式登出時，僅會針對該特定應用程式將使用者登出。 |
| 快取 | 程式設計師 | REST API實作必須針對商業同意的資料項目實作其專屬的快取機制。 SDK會自動快取各種資料項目，同時考量各種業務規則。 例如，使用與驗證Token相同的TTL來快取使用者中繼資料，而某些項目可以以程式設計方式從快取（預檢）中排除。 |
| 詳細錯誤報告機制 | 程式設計師 | REST API主要仰賴HTTP錯誤碼來報告應用程式錯誤，而SDK則提供詳細的錯誤報告機制，可協助應用程式開發人員更清楚了解發生的情況。 |
| 應用程式錯誤恢復（重試錯誤、循環檢測等） | 程式設計師 | REST API實作需要建置自己的應用程式復原系統，而SDK之上的實作則可受益於SDK錯誤復原系統：從暫時性網路錯誤中恢復，方法是使用就緒邏輯重新嘗試某些網路呼叫以防止「回圈」。 |
| 每個請求者的驗證 | 程式設計師 | 有些MVPD會因商業原因或技術挑戰，要求驗證每個網站/應用程式。 SDK會根據TVE控制面板組態自動強制執行此規範。 REST API實作者必須自行實作此項目，以免違反業務協定，或者能夠完成這些MVPD的授權，這些MVPD涵蓋每個應用程式的驗證資料。 |
| 被動驗證 | 程式設計師 | 某些MVPD支援「被動」驗證，即用戶不需要輸入憑據，並且會自動嘗試驗證用戶。 這對於也需要「每個要求者驗證」的MVPD特別實用。 在此情況下，SDK所啟用的UX將是無縫的，使用者在應用程式中僅驗證一次，而SDK會對生態系統中的其他應用程式執行「被動」驗證。 使用者沒有看到其他被動呼叫，而他將只是已經通過驗證，而MVPD則達到每個應用程式擁有個別驗證工作階段的目標。 |
| 隱式和均勻的裝置檢測 | 程式設計師 | SDK會自動偵測裝置類型，並以標準方式傳送該資訊。 REST API實作根據實作者而容易傳送不同的資訊，進而影響/破壞各網站的業務規則和統計資料。 **程式設計師需要確保他們向我們發送正確的設備資訊** 在每個應用上。 若是伺服器對伺服器實作，除非採取其他步驟，否則REST api無法正確識別一般使用者的IP位址。 IP地址在某些使用案例中很重要，如防欺詐或HBA。 |
| 防篡改TempPass | 程式設計師 | 強制實施TempPass是基於穩定的設備ID。 SDK使用硬體資訊/指紋技術來識別裝置，而此機制非公開機制，因此更安全且無衝突。 若是REST API實作，程式設計人員需要實作自己的演算法，以便進行裝置識別/指紋識別。 |
| 裝置綁定 | 程式設計師 | 透過SDK應用程式在裝置上產生的代號無法攜帶，使惡意使用者難以共用其代號並提供存取權給其他使用者。 這是以與「防篡改TempPass」相同的裝置ID機制為基礎。 若為REST API，代號會保留在雲端中，這表示有兩部裝置具有相同deviceID且進行相同呼叫，將會獲得相同的回應/存取權。 程式設計人員需要確保他們擁有強大、安全且無衝突的機制來產生/分配deviceID。 |
| 可預測且經過認證的功能集 | 程式設計師 | 每個SDK中的現有功能集一致、可預測且經過完整認證和測試。 某些業務需求會透過SDK強制執行，因此程式設計師在使用REST API時違反合約會有風險。 雖然REST API可能更有彈性，但Adobe可保證SDK實作可強制執行業務決策，並可從TVE控制面板執行設定。 在無客戶端的情況下，每個程式設計師會實施其自己的業務規則子集，這些業務規則在給定時間點將其應用程式套裝起來。 |


1. 我們計畫修正此限制，並根據裝置識別為每個平台套用規則，這是全新One API計畫的一部分。

2. Adobe會繼續與所有主要平台合作，實作可與REST API搭配使用的Platform SSO。 我們的單一API計畫將在使用原生SDK實作的應用程式與使用REST API實作的應用程式之間提供SSO支援。

## 最低裝置需求 {#min_reqs}

若要使用Primetime驗證REST API，裝置必須符合或超過 [Primetime驗證平台/裝置/工具需求檔案](#general_clientless_reqs).


