---
description: 廣告解析和廣告載入可能導致等待播放開始的用戶的不可接受的延遲。 懶惰廣告載入和懶惰廣告解析功能可減少此啟動延遲。 懶惰廣告解決在3.0版中已發生顯著變化。 在3.0以前的懶散廣告載入中，廣告分解分為兩個步驟，在PREPARED狀態之前僅解析預卷廣告，在PREPARED狀態之後解析中卷和後卷。 此情況已發生更改，廣告中斷現在以廣告中斷位置之前的指定間隔進行解析。
keywords: 懶惰；廣告解析；廣告載入
title: 即時廣告解決
exl-id: 7ce0dcac-859b-4570-a31b-4ea1e10ccf95
source-git-commit: be43bbbd1051886c8979ff590a3197b2a7249b6a
workflow-type: tm+mt
source-wordcount: '606'
ht-degree: 0%

---

# 概述 {#just-in-time-ad-resolving-overview}

廣告解析和廣告載入可能導致等待播放開始的用戶的不可接受的延遲。 懶惰廣告載入和懶惰廣告解析功能可減少此啟動延遲。 懶惰廣告解決在3.0版中已發生顯著變化。 在3.0以前的懶散廣告載入中，廣告分解分為兩個步驟，在PREPARED狀態之前僅解析預卷廣告，在PREPARED狀態之後解析中卷和後卷。 此情況已發生更改，廣告中斷現在以廣告中斷位置之前的指定間隔進行解析。

* 基本的和解析和載入過程：

   1. TVSDK下載清單（播放清單）和 *解析* 所有廣告。
   1. TVSDK *載荷* 所有的廣告都放在時間表上。
   1. TVSDK將播放器移入PREPARED狀態，然後開始內容回放。

   播放器使用清單中的URL來獲取廣告內容（創意），確保廣告內容是TVSDK可以播放的格式，並且TVSDK將廣告放在時間線上。 解析和載入廣告的這一基本過程可能導致等待播放其內容的用戶出現不可接受的長時間延遲，特別是當清單包含多個廣告URL時。

* *懶惰廣告載入*:

   1. TVSDK下載播放清單和 *解析* 所有廣告。
   1. TVSDK *載荷* 預播廣告，將播放器移入PREPARED狀態，然後開始內容回放。
   1. TVSDK *載荷* 剩餘廣告，並在播放時將其置於時間線上。

   此功能通過在載入所有廣告之前將播放器置於PREPARED狀態而改進了基本過程。

* *懶廣告解決*:

   1. TVSDK下載播放清單。
   1. TVSDK解析並載入任何預播廣告，將播放器移入PREPARED狀態，然後開始內容回放。
   1. TVSDK根據以下計算分別解析和分段剩餘的廣告：

      `AdvertisingMetadata::getDelayAdLoadingTolerance() + PlayBufferTime::playBufferTime + the value defined in EXT-X-TARGETDURATION`

      預設情況下，對於具有6秒目標持續時間的內容，這將是5.0 + 30.0 + 6.0秒（41秒）

   1. 如果廣告中斷在開始位置的10秒內發生，則在PREPARED狀態之前，它將與預卷廣告一起解決。

>[!IMPORTANT]
>
>**懶惰廣告解決時要考慮的因素：**
>
>* 只有SERVER_MAP和MANIFEST_CUES模式下的VOD流才支援懶惰廣告解析。
>* 預設情況下未啟用懶惰廣告解析。 如果禁用，則在播放開始之前，所有廣告都會在VOD流上解析。
>* 懶惰廣告解析與「即時開啟」功能不相容。 有關「即時開啟」的詳細資訊，請參閱「即時開啟」。
>* 通過懶惰廣告解決，在搜索廣告片段時，在搜索過程中將解決與搜索位置最接近的廣告片段。
>* 使用Lazy Ad Resolving（懶惰廣告解析），如果同時存在多個廣告中斷(VMAP)，則它們將同時被解析。
>* 建議不要將*setDelayAdLoadingTolerance()*的值減小到預設值（5秒）以下。 這樣做可能會導致玩家不必要地「緩衝」。
>* 懶惰的廣告解決不會影響預播廣告。
>* Audituse-Plugin當前支援懶惰廣告解決。 建議不設定 *setDelayAdLoading*&#x200B;如果您使用自定義解析程式，則返回true。
>

