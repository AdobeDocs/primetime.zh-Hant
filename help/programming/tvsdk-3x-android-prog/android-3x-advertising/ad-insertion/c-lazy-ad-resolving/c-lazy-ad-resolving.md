---
description: 廣告解析和廣告載入可能會造成使用者等待播放開始的不可接受的延遲。 延遲廣告載入和延遲廣告解決功能可以減少這種啟動延遲。 3.0版大幅變更了延遲廣告解析。 在3.0之前的延遲廣告載入中，廣告解析度分為兩個步驟，僅解析在「已準備」狀態之前的前段廣告，以及在「已準備」狀態之後的中段和後段廣告。 此狀況已變更，現在廣告插播會在廣告插播位置之前的指定間隔解決。
keywords: 延遲；廣告解析；廣告載入
title: Just-In-Time廣告解析
source-git-commit: 02ebc3548a254b2a6554f1ab34afbb3ea5f09bb8
workflow-type: tm+mt
source-wordcount: '606'
ht-degree: 0%

---

# 概觀 {#just-in-time-ad-resolving-overview}

廣告解析和廣告載入可能會造成使用者等待播放開始的不可接受的延遲。 延遲廣告載入和延遲廣告解決功能可以減少這種啟動延遲。 3.0版大幅變更了延遲廣告解析。 在3.0之前的延遲廣告載入中，廣告解析度分為兩個步驟，僅解析在「已準備」狀態之前的前段廣告，以及在「已準備」狀態之後的中段和後段廣告。 此狀況已變更，現在廣告插播會在廣告插播位置之前的指定間隔解決。

* 基本廣告解析和載入程式：

   1. TVSDK會下載資訊清單（播放清單）和 *解析* 所有廣告。
   1. TVSDK *載入* 所有廣告並將其放置在時間軸上。
   1. TVSDK會將播放器移至「已準備」狀態，並開始播放內容。

  播放器會使用資訊清單中的URL來取得廣告內容（創意），確保廣告內容採用TVSDK可以播放的格式，並且TVSDK會將廣告放置在時間軸上。 這種解析和載入廣告的基本程式可能會導致等待播放其內容的使用者延遲太長，令人無法接受，尤其是當資訊清單包含多個廣告URL時。

* *延遲廣告載入*：

   1. TVSDK下載播放清單並 *解析* 所有廣告。
   1. TVSDK *載入* 前段廣告、將播放器移至「已準備」狀態，並開始播放內容。
   1. TVSDK *載入* 其餘的廣告，並在播放發生時將其放在時間軸上。

  此功能可在載入所有廣告之前將播放器置於「已準備」狀態，以改進基本程式。

* *延遲廣告解析*：

   1. TVSDK會下載播放清單。
   1. TVSDK會解析並載入任何前段廣告、將播放器移至「已準備」狀態，並開始播放內容。
   1. TVSDK會根據下列計算，分別解析及個別中斷其餘的廣告：

      `AdvertisingMetadata::getDelayAdLoadingTolerance() + PlayBufferTime::playBufferTime + the value defined in EXT-X-TARGETDURATION`

      根據預設，對於具有6秒目標持續時間的內容，這將是5.0 + 30.0 + 6.0秒（41秒）

   1. 如果廣告插播發生在開始位置的10秒內，它將會與「已準備」狀態之前的前置廣告一起被解析。

>[!IMPORTANT]
>
>**考慮延遲廣告解決的因素：**
>
>* 延遲廣告解析僅支援具有模式SERVER_MAP和MANIFEST_CUE的VOD資料流。
>* 預設不會啟用延遲廣告解析。 如果停用，所有廣告都會在播放開始前解析在VOD資料流中。
>* 延遲廣告解析與立即開啟功能不相容。 如需「立即開啟」的詳細資訊，請參閱「立即開啟」。
>* 透過延遲廣告解決，當在廣告插播中向前搜尋時，將在搜尋期間解決最接近搜尋位置的廣告插播。
>* 透過延遲廣告解決，如果同時存在多個廣告插播(VMAP)，則會同時解決它們。
>* 不建議將*setDelayAdLoadingTolerance() *的值降低到預設值（5秒）以下。 這麼做可能會使播放器不必要地「緩衝」。
>* 延遲廣告解析不會影響前段廣告。
>* 延遲廣告解析目前支援Auditude外掛程式。 建議不要設定 *setDelayAdloading*&#x200B;若您使用自訂解析器，則變為true。
>
