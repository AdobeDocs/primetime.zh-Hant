---
description: 廣告解析和廣告載入可能會導致等待播放開始的使用者發生無法接受的延遲。 延遲廣告載入和延遲廣告解決功能可以減少此啟動延遲。 3.0版中的延遲廣告解決已大幅變更。 在3.0版之前的延遲廣告載入中，廣告解析度分為兩個步驟，僅解析處於「已準備」狀態之前的前段廣告，以及處於「已準備」狀態之後的中段和後段廣告。 此狀況已變更，現在廣告插播會在廣告插播位置之前的指定間隔解決。
keywords: 延遲；廣告解析；廣告載入
title: 即時廣告解析
exl-id: 7ce0dcac-859b-4570-a31b-4ea1e10ccf95
source-git-commit: be43bbbd1051886c8979ff590a3197b2a7249b6a
workflow-type: tm+mt
source-wordcount: '606'
ht-degree: 0%

---

# 概觀 {#just-in-time-ad-resolving-overview}

廣告解析和廣告載入可能會導致等待播放開始的使用者發生無法接受的延遲。 延遲廣告載入和延遲廣告解決功能可以減少此啟動延遲。 3.0版中的延遲廣告解決已大幅變更。 在3.0版之前的延遲廣告載入中，廣告解析度分為兩個步驟，僅解析處於「已準備」狀態之前的前段廣告，以及處於「已準備」狀態之後的中段和後段廣告。 此狀況已變更，現在廣告插播會在廣告插播位置之前的指定間隔解決。

* 基本廣告解析和載入程式：

   1. TVSDK下載資訊清單（播放清單）和 *解析* 所有廣告。
   1. TVSDK *載入* 所有廣告，並將它們放置在時間軸上。
   1. TVSDK會將播放器移至「已準備」狀態，並開始播放內容。

   播放器會使用資訊清單中的URL來取得廣告內容（創意）、確保廣告內容採用TVSDK可以播放的格式，以及TVSDK將廣告放在時間軸上。 這種解析和載入廣告的基本程式可能會導致等待播放其內容的使用者延遲太長，令人無法接受，尤其是當資訊清單包含多個廣告URL時。

* *延遲廣告載入*：

   1. TVSDK下載播放清單和 *解析* 所有廣告。
   1. TVSDK *載入* 前段廣告、將播放器移至「已準備」狀態，並開始播放內容。
   1. TVSDK *載入* 剩餘的廣告，並在播放發生時將它們放在時間軸上。

   此功能會在載入所有廣告之前將播放器置於「已準備」狀態，以改進基本程式。

* *延遲廣告解決*：

   1. TVSDK會下載播放清單。
   1. TVSDK會解析並載入任何前段廣告、將播放器移至「已準備」狀態，並開始播放內容。
   1. TVSDK會根據下列計算，個別解析及解析其餘的每一個廣告插播：

      `AdvertisingMetadata::getDelayAdLoadingTolerance() + PlayBufferTime::playBufferTime + the value defined in EXT-X-TARGETDURATION`

      根據預設，對於具有6秒目標持續時間的內容，這將是5.0 + 30.0 + 6.0秒（41秒）

   1. 如果廣告插播發生在開始位置的10秒內，它將會在「已準備」狀態之前與前段廣告一起解決。

>[!IMPORTANT]
>
>**考慮延遲廣告解決的因素：**
>
>* 延遲廣告解析僅支援具有模式SERVER_MAP和MANIFEST_CUE的VOD資料流。
>* 延遲廣告解析預設為未啟用。 如果停用，所有廣告會在播放開始前在VOD資料流上解析。
>* 延遲廣告解析與立即開啟功能不相容。 如需「立即開啟」的詳細資訊，請參閱「立即開啟」。
>* 透過延遲廣告解決，當在廣告插播上向前搜尋時，將在搜尋期間解析最接近搜尋位置的廣告插播。
>* 透過延遲廣告解決，如果同時存在多個廣告插播(VMAP)，則會同時解決它們。
>* 不建議將*setDelayAdLoadingTolerance() *的值減至低於預設值（5秒）。 這樣做可能會導致播放器不必要的「緩衝」。
>* 延遲廣告解析不會影響前段廣告。
>* Auditude-Plugin目前支援延遲廣告解決。 建議不要設定 *setDelayAdloading*&#x200B;若您使用自訂解析器，則變為true。
>

