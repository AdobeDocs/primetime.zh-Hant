---
description: 通過Internet流傳輸需要一個穩定的連接來播放來自遠程伺服器的流。 但是，觀眾的Internet連接或流播放的可變性意味著遠程播放可能無法提供本地播放的媒體質量。
title: 播放和故障切換
exl-id: 8316dfb8-3a2e-4057-a3d7-e3d8860e5bd4
source-git-commit: be43bbbd1051886c8979ff590a3197b2a7249b6a
workflow-type: tm+mt
source-wordcount: '451'
ht-degree: 0%

---

# 播放和故障切換 {#playback-and-failover}

通過Internet流傳輸需要一個穩定的連接來播放來自遠程伺服器的流。 但是，觀眾的Internet連接或流播放的可變性意味著遠程播放可能無法提供本地播放的媒體質量。

黃金時段無法防止ISP中斷或電纜斷線等故障。 但是，黃金時段流提供故障轉移保護，以保護回放免受某些遠程伺服器故障或操作故障的影響，為觀看者提供更好的體驗。 瀏覽器TVSDK實現故障切換保護，以盡量減少回放中斷，並在傳輸問題的情況下實現無縫回放。 當整個格式副本或片段不可用時，視頻播放器自動切換到備份媒體集。

## 媒體播放 {#media-playback}

對於即時和視頻點播媒體，瀏覽器TVSDK通過下載與中解析度比特率相關聯的播放清單，然後下載由播放清單定義的中解析度比特率媒體的片段來開始回放。

瀏覽器TVSDK快速選擇高解析度比特率播放清單及其關聯媒體並繼續下載過程。

## 缺少播放清單故障轉移 {#section_81A5822C108449E1A0E94A6E25DE9E8E}

當缺少整個播放清單時，例如，當在頂級清單檔案中指定的M3U8檔案未下載時，Browser TVSDK會嘗試恢復。 如果無法恢復，則應用程式將確定下一步。

如果缺少與中解析度位速率關聯的播放清單，則瀏覽器TVSDK將搜索相同解析度的變型播放清單。 如果找到相同的解析度，則開始從匹配位置下載變型播放清單和段。 如果瀏覽器TVSDK找不到相同的解析度播放清單，它將嘗試循環使用其他比特率播放清單及其變體。 立即降低比特率是首選，然後是其變數，等等。 如果在嘗試查找有效播放清單時已用盡所有低比特率播放清單及其變體，則瀏覽器TVSDK將轉到最高比特率並從那裡計算下來。 如果找不到有效的播放清單，則進程將失敗，並且播放器將移到ERROR狀態。

您的應用程式可以確定如何處理此情況。 例如，您可能希望關閉播放器活動並將用戶引導到目錄活動。 感興趣的事件是狀態或狀態更改的事件，相應的回調是狀態更改的開啟方法。 下面是代碼，用於監視播放器是否將其內部狀態更改為ERROR:

```js
case AdobePSDK.MediaPlayerStatus.ERROR:  
var errorDesc = event.metadata.getValue('DESCRIPTION'); 
console.log(errorDesc); 
break; 
```
