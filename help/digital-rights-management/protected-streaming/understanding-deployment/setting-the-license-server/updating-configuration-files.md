---
description: 只要授權伺服器讀取其中一個授權伺服器組態檔（全域或租使用者組態），就會在記憶體中快取組態資訊。 因此，不必從磁碟讀取每個授權要求的檔案。 不過，伺服器也允許修改組態檔中的大部分值，而不需要伺服器重新啟動才能讓變更生效。
title: 更新組態檔
source-git-commit: 89bdda1d4bd5c126f19ba75a819942df901183d1
workflow-type: tm+mt
source-wordcount: '576'
ht-degree: 0%

---


# 更新組態檔{#updating-configuration-files}

只要授權伺服器讀取其中一個授權伺服器組態檔（全域或租使用者組態），就會在記憶體中快取組態資訊。 因此，不必從磁碟讀取每個授權要求的檔案。 不過，伺服器也允許修改組態檔中的大部分值，而不需要伺服器重新啟動才能讓變更生效。

每當您修改組態檔案時，授權伺服器都會儲存上次修改檔案的時間。 伺服器會以可設定的間隔檢查檔案修改時間是否已變更。 如果已變更，伺服器會自動重新載入組態檔的內容。

如果您想要控制伺服器檢查更新的頻率，您需要設定 `refreshDelaySeconds` 中的屬性 `Caching` 全域組態檔的元素。 例如，如果 `refreshDelaySeconds` 設為3600秒，則伺服器將在修改設定檔案後最多一小時內更新設定。 若 `refreshDelaySeconds` 設為0，則伺服器會在每次請求時檢查設定更新。 不建議您設定 `refreshDelaySeconds` 在任何生產環境中降低值，因為這樣做可能會影響效能。

此 `Caching` element也會控制一次快取多少租使用者的設定。 您可以將此值設定為小於租使用者總數的數字，以限制用於快取設定資訊的記憶體數量。 如果收到不在快取中的租使用者的請求，則會先載入設定，然後才能處理請求。 如果快取已滿，則會從快取中移除最近最少使用的租使用者。

快取版本的設定會繼續用於下列情況（直到下次伺服器檢查更新時為止）：

* 如果變更儲存至組態檔或中參照的任何憑證檔 [!DNL flashaccess-tenant.xml] 伺服器嘗試讀取檔案時的檔案
* 如果發現檔案的時間戳記早於目前時間不到一秒
* 如果檔案的時間戳記為未來時間

如果沒有快取版本，則載入設定會失敗，並傳回錯誤給使用者端。 然後，伺服器會在下次收到該租使用者的請求時嘗試再次載入檔案。

## 更新全域設定檔案 {#section_AA546C72442646CFB8906AEEBDF50587}

您可以修改HSM密碼，在 [!DNL flashaccess-global.xml] 隨時。 這些變更會在下次伺服器重新載入組態檔時生效。 不過，不會重新載入記錄及快取元素的變更。 您必須重新啟動伺服器，這些元素的任何變更才會生效。

## 更新租使用者設定檔案 {#section_71624DB8DF28480F84F34F0FF7FD4365}

您可以修改所有在 [!DNL flashaccess-tenant.xml] 任何時候的檔案。 這些變更會在下次伺服器重新載入組態檔時生效。 此外，伺服器會檢查所有認證中的任何修改( [!DNL .pfx])檔案和Packager允許清單租使用者設定檔案中參照的憑證檔案。
