---
description: 一旦許可證伺服器讀取其中一個許可證伺服器配置檔案（全局或租用戶配置），配置資訊就快取在記憶體中。 因此，每個授權要求都不需要從磁碟讀取檔案。 但是，伺服器還允許修改配置檔案中的大部分值，而無需伺服器重新啟動即可使更改生效。
title: 更新配置檔案
translation-type: tm+mt
source-git-commit: 89bdda1d4bd5c126f19ba75a819942df901183d1
workflow-type: tm+mt
source-wordcount: '576'
ht-degree: 0%

---


# 更新配置檔案{#updating-configuration-files}

一旦許可證伺服器讀取其中一個許可證伺服器配置檔案（全局或租用戶配置），配置資訊就快取在記憶體中。 因此，每個授權要求都不需要從磁碟讀取檔案。 但是，伺服器還允許修改配置檔案中的大部分值，而無需伺服器重新啟動即可使更改生效。

每當您修改配置檔案時，許可證伺服器都會儲存上次修改檔案的時間。 在可配置的時間間隔內，伺服器檢查檔案修改時間是否已更改。 如果更改了，伺服器會自動重新載入配置檔案的內容。

如果要控制伺服器檢查更新的頻率，您需要在全局配置檔案的`Caching`元素中設定`refreshDelaySeconds`屬性。 例如，如果`refreshDelaySeconds`設為3600秒，則伺服器將在設定檔案修改時間起算的最多一小時內更新設定。 如果`refreshDelaySeconds`設為0，則伺服器會在每次要求時檢查組態更新。 不建議您在任何生產環境中將`refreshDelaySeconds`設為低值，因為這樣做會影響效能。

`Caching`元素也控制一次快取多少租戶的設定。 您可以將此值設定為小於租戶總數的數字，以限制用於快取配置資訊的記憶體量。 如果收到非快取中租用戶的要求，在處理要求之前先載入設定。 如果快取已滿，則會從快取中移除最近最少使用的租用戶。

快取版本的組態會持續用於下列情況（直到下次伺服器檢查更新為止）:

* 如果在伺服器嘗試讀取檔案時，將更改保存到配置檔案或[!DNL flashaccess-tenant.xml]檔案中引用的任何證書檔案
* 如果發現檔案的時間戳記在當前時間之前不到一秒
* 如果檔案的時間戳記是將來

如果沒有快取版本，則載入設定會失敗，並傳回錯誤給用戶端。 然後，伺服器會在下次收到該租用戶的要求時，再次嘗試載入檔案。

## 更新全局配置檔案{#section_AA546C72442646CFB8906AEEBDF50587}

您可以隨時在[!DNL flashaccess-global.xml]中修改HSM密碼。 這些更改將在伺服器下次重新載入配置檔案時生效。 不過，「記錄」和「快取」元素的變更不會重新載入。 您需要在這些元素的任何更改生效之前重新啟動伺服器。

## 更新租用戶配置檔案{#section_71624DB8DF28480F84F34F0FF7FD4365}

您可以隨時修改在[!DNL flashaccess-tenant.xml]檔案中指定的所有值。 這些更改將在伺服器下次重新載入配置檔案時生效。 此外，伺服器檢查所有憑證([!DNL .pfx])檔案中是否有任何修改，並允許清單證書檔案在租用戶配置檔案中引用。
