---
description: 一旦許可證伺服器讀取其中一個許可證伺服器配置檔案（全局或租用戶配置），配置資訊就快取在記憶體中。 因此，每個授權要求都不需要從磁碟讀取檔案。 但是，伺服器還允許修改配置檔案中的大部分值，而無需伺服器重新啟動即可使更改生效。
seo-description: 一旦許可證伺服器讀取其中一個許可證伺服器配置檔案（全局或租用戶配置），配置資訊就快取在記憶體中。 因此，每個授權要求都不需要從磁碟讀取檔案。 但是，伺服器還允許修改配置檔案中的大部分值，而無需伺服器重新啟動即可使更改生效。
seo-title: 更新配置檔案
title: 更新配置檔案
uuid: 34b3247c-3458-49de-b1b0-dc0ebbf61c88
translation-type: tm+mt
source-git-commit: 29bc8323460d9be0fce66cbea7c6fce46df20d61

---


# 更新配置檔案{#updating-configuration-files}

一旦許可證伺服器讀取其中一個許可證伺服器配置檔案（全局或租用戶配置），配置資訊就快取在記憶體中。 因此，每個授權要求都不需要從磁碟讀取檔案。 但是，伺服器還允許修改配置檔案中的大部分值，而無需伺服器重新啟動即可使更改生效。

每當您修改配置檔案時，許可證伺服器都會儲存上次修改檔案的時間。 在可配置的時間間隔內，伺服器檢查檔案修改時間是否已更改。 如果已更改，伺服器會自動重新載入配置檔案的內容。

如果要控制伺服器檢查更新的頻率，則需要在全局配置文 `refreshDelaySeconds` 件的元素 `Caching` 中設定屬性。 例如，如果設 `refreshDelaySeconds` 置為3600秒，則伺服器將在配置檔案修改時間起至多一小時內更新配置。 如果 `refreshDelaySeconds` 設為0，則伺服器會在每次請求時檢查配置更新。 不建議您在任何生產環 `refreshDelaySeconds` 境中設定低值，因為這麼做會影響效能。

元素 `Caching` 也會控制一次快取多少租戶的設定。 您可以將此值設定為小於租戶總數的數字，以限制用於快取配置資訊的記憶體量。 如果收到非快取中租用戶的要求，在處理要求之前先載入設定。 如果快取已滿，則會從快取中移除最近最少使用的租用戶。

快取版本的組態會持續用於下列情況（直到下次伺服器檢查更新為止）:

* 如果在伺服器嘗試讀取檔案時，更改被保存到配置檔案或檔案中引用的任 [!DNL flashaccess-tenant.xml] 何證書檔案中
* 如果發現檔案的時間戳記在當前時間之前不到一秒
* 如果檔案的時間戳記是將來

如果沒有快取版本，則載入設定會失敗，並傳回錯誤給用戶端。 然後，伺服器會在下次收到該租用戶的要求時，再次嘗試載入檔案。

## 更新全局配置檔案 {#section_AA546C72442646CFB8906AEEBDF50587}

您可以隨時修改HSM [!DNL flashaccess-global.xml] 密碼。 這些更改將在伺服器下次重新載入配置檔案時生效。 不過，「記錄」和「快取」元素的變更不會重新載入。 您需要在這些元素的任何更改生效之前重新啟動伺服器。

## 更新租用戶配置檔案 {#section_71624DB8DF28480F84F34F0FF7FD4365}

您可以隨時修改檔案中指 [!DNL flashaccess-tenant.xml] 定的所有值。 這些更改將在伺服器下次重新載入配置檔案時生效。 此外，伺服器會檢查租用戶設定檔中參考的所有憑證( [!DNL .pfx])檔案和封裝程式白名單憑證檔案是否有任何修改。
