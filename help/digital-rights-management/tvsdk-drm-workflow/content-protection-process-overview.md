---
title: 授權取得程式概述
description: 授權取得程式概述
copied-description: true
exl-id: 0e1c43a5-9a7d-4534-acd6-7feff94f4670
source-git-commit: be43bbbd1051886c8979ff590a3197b2a7249b6a
workflow-type: tm+mt
source-wordcount: '339'
ht-degree: 0%

---

# 授權取得程式概述{#license-acquisition-process-overview}

以下各節將使用ActionScript3 (AS3)程式碼範例說明如何讓應用程式在Primetime DRM的保護下播放內容。 在適當的地方，系統會針對行動平台上的原生應用程式，呈現與此工作流程的微妙差異。 不過，所有平台上的Primetime DRM工作流程都非常類似，因此您對AS3程式碼的理解會讓外推至其他平台變得相當簡單。

**授權取得程式：**

1. 取得受保護內容的DRM中繼資料。
1. 檢查授權是否可在本機取得：

   * 如果授權在本機可用，請載入授權並前往步驟6。
   * 如果授權在本機無法使用，請繼續步驟3。

1. 檢查是否需要驗證：

   * 如果需要驗證，請從使用者取得驗證認證，然後將其傳遞至授權伺服器。
   * 如果不需要驗證，請前往步驟6。

1. 如果需要裝置網域註冊，請加入裝置網域。
1. 如果需要驗證且現在已完成，請從授權伺服器下載授權。
1. 播放內容。

如果未發生錯誤且使用者已成功獲得檢視內容的授權，Primetime會派送 `DRMStatusEvent` 物件與應用程式開始播放。 此 `DRMStatusEvent` 物件保有相關的授權資訊，可識別使用者的原則和許可權。 例如， `DRMStatusEvent` 可能包含是否可離線使用內容、授權過期時間等的資訊。

應用程式可以使用授權資訊來通知使用者其原則的狀態。 例如，應用程式可以在狀態列中顯示使用者檢視內容的剩餘天數。 如果允許使用者離線存取，則會快取授權，並將加密內容下載到使用者的電腦。 內容可在授權快取期間中定義的期間記憶體取。 事件中的詳細資訊屬性包含 `DRM.voucherObtained`. 應用程式會決定要將內容儲存在本機的何處，以便離線使用。 您也可以使用預先載入授權 `DRMManager` 類別。
