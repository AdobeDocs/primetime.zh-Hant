---
title: 許可證獲取過程概述
description: 許可證獲取過程概述
copied-description: true
exl-id: 0e1c43a5-9a7d-4534-acd6-7feff94f4670
source-git-commit: be43bbbd1051886c8979ff590a3197b2a7249b6a
workflow-type: tm+mt
source-wordcount: '339'
ht-degree: 0%

---

# 許可證獲取過程概述{#license-acquisition-process-overview}

以下各節將使用ActionScript3(AS3)代碼樣本，介紹如何讓應用程式在黃金時段DRM保護下播放內容。 在適當的情況下，將對移動平台上的本機應用進行細緻的偏離。 但是，黃金時段DRM工作流在所有平台上都非常相似，因此您對AS3代碼的理解將使外推到其他平台非常簡單。

**許可證獲取流程：**

1. 獲取受保護內容的DRM元資料。
1. 檢查許可證是否在本地可用：

   * 如果許可證在本地可用，請載入許可證並轉到步驟6。
   * 如果本地不提供許可證，請繼續步驟3。

1. 檢查是否需要驗證：

   * 如果需要驗證，請從用戶獲取驗證憑據，然後將其傳遞給許可證伺服器。
   * 如果不需要驗證，請轉到步驟6。

1. 如果需要設備域註冊，請加入設備域。
1. 如果需要驗證並且現在已完成，請從許可證伺服器下載許可證。
1. 播放內容。

如果未發生錯誤，並且用戶已成功授權查看內容，Mighine派單 `DRMStatusEvent` 對象，應用程式開始回放。 的 `DRMStatusEvent` 對象包含相關的許可證資訊，該資訊標識用戶的策略和權限。 比如說， `DRMStatusEvent` 可能包含有關內容是否可以離線使用、許可證到期等的資訊。

應用程式可以使用許可證資訊來通知用戶其策略的狀態。 例如，應用程式可以顯示用戶在狀態欄中查看內容的剩餘天數。 如果允許用戶離線訪問，則快取許可證，並將加密內容下載到用戶的機器。 在許可快取持續時間中定義的持續時間內使內容可訪問。 事件中的detail屬性包含 `DRM.voucherObtained`。 應用程式決定將內容儲存在本地的位置，以便其離線可用。 您還可以使用 `DRMManager` 類。
