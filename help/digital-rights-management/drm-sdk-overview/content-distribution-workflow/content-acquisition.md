---
description: 當消費者從網站或CDN獲取受保護的內容檔案時，消費者還必須獲得包含用於解密視頻的密鑰的許可證，然後才能播放該視頻。 以下步驟說明了運行Flash Player或Adobe AIR的電腦訪問受保護內容的常用工作流
title: 內容獲取
exl-id: 92d51928-6021-4284-9310-4e6ce758bffc
source-git-commit: be43bbbd1051886c8979ff590a3197b2a7249b6a
workflow-type: tm+mt
source-wordcount: '695'
ht-degree: 0%

---

# 內容獲取{#content-acquisition}

當消費者從網站或CDN獲取受保護的內容檔案時，消費者還必須獲得包含用於解密視頻的密鑰的許可證，然後才能播放該視頻。 以下步驟說明了運行Flash Player或Adobe AIR的電腦訪問受保護內容的常用工作流：

1. 消費者訪問零售商的網站，並選擇視頻觀看。 消費者嘗試使用Flash Player或Adobe AIR應用程式將受保護的視頻下載或流式傳輸到其電腦。

   如果這是用戶首次嘗試使用此特定電腦訪問受保護內容，則Flash Player或Adobe AIR運行時必須首先按步驟2中所述的個性化。 如果運行時客戶端已經個性化，則會按步驟3所述進行獲取許可證的過程。

1. Flash Player或Adobe AIR運行時客戶端獲取唯一的數字證書(稱為 *電腦證書*)。

   調用分配唯一證書的此過程 *個性化*。 個性化唯一標識用於播放內容的電腦和Flash Player或Adobe AIR運行時。

   個性化進程允許下載的許可證綁定到安裝客戶機的特定電腦。 每台電腦都獲得唯一的電腦憑據（電腦私鑰和電腦證書）。 如果某個特定客戶機遭到攻擊，則可能會撤銷該客戶機並禁止其獲取新內容的許可證。

1. 當受保護內容開始下載或流到消費者的電腦時，客戶端解析該受保護內容，並從嵌入在檔案內的黃金時段DRM元資料中提取零售商的許可證伺服器的URL。

   黃金時段DRM元資料通常與內容分開，例如嵌入在隨附的清單檔案中或作為二進位blob，但也可嵌入在內容檔案中。 客戶端在指定的URL與許可證伺服器聯繫，並獲取許可證（如步驟4中所述）。
1. 客戶端從零售商的許可證伺服器獲取許可證。

   在獲取許可證期間，客戶端發送標識所請求內容的資訊( *黃金時段DRM元資料*)和電腦證書（標識消費者電腦）到零售商的許可證伺服器。 發送到伺服器的許可請求使用傳輸公共密鑰進行加密，該傳輸公共密鑰也包含在黃金時段DRM元資料中。

   許可證伺服器可以整合到零售商的計費和驗證基礎架構中，它可以執行業務規則檢查以驗證用戶是否有權查看請求的內容。 如果業務規則允許，許可證伺服器將頒發包含內容加密密鑰的許可證，以解密內容以及與該用戶帳戶關聯的使用規則。 要處理許可請求，許可證伺服器使用其傳輸私鑰對請求進行解密。 元資料中的CEK使用許可證伺服器私鑰解密，並重新加密以將許可證綁定到發出請求的設備。 許可證使用許可證伺服器私鑰簽名。 使用傳輸私鑰對許可證響應進行簽名，並在返回給客戶端之前對其進行加密。

   如果許可證允許，客戶端將許可證儲存以啟用 *離線訪問* 到執照上。 許可證快取允許消費者在每次查看內容時查看受保護的內容而不重新獲取許可證。

1. 一旦Flash Player或Adobe AIR運行時客戶端具有許可證，客戶端就從許可證中提取CEK，並且用戶可以查看他們有權訪問的內容。

   <!--<a id="fig_s43_gc2_44"></a>-->

   ![](assets/FMRMS_fig01_web.png)

   上一個示例只顯示一個可能的工作流。 或者，您可以使用工作流主動下載內容，在此獲取許可證的時間要長得多。 另一個選項是實施預訂工作流，在該工作流中，在訪問內容之前獲取許可證。
